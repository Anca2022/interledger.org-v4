--- includes/field_ui.inc
+++ includes/field_ui.inc
@@ -823,7 +823,7 @@ function _ds_field_ui_table_layouts($entity_type, $bundle, $view_mode, array &$f
       // form.
       foreach (Element::children($layout_configuration_form) as $name) {
         $element = $layout_configuration_form[$name];
-        if ($element['#type'] == 'details' && $element['#group'] == 'additional_settings') {
+	if (isset($element['#type'], $element['#group']) && $element['#type'] == 'details' && $element['#group'] == 'additional_settings') {
           $form[$name] = $layout_configuration_form[$name];
           unset($layout_configuration_form[$name]);
 
